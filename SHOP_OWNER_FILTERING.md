# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ –º–∞–≥–∞–∑–∏–Ω—É (Shop Owner)

## üéØ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### Backend (API)
- **–ù–æ–≤–æ–µ –ø–æ–ª–µ –≤ AdminOrderResponse**: `shop_owner` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–ª–∞–¥–µ–ª—å—Ü–µ –º–∞–≥–∞–∑–∏–Ω–∞
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–∞–≥–∞–∑–∏–Ω—É**: –ø–∞—Ä–∞–º–µ—Ç—Ä `shop_owner_id` –≤ `/api/v1/admin/orders`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: —Å–≤—è–∑—å `Order -> OrderItems -> Variation -> Product -> Owner`
- **–°–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤**: –≤ –æ—Ç–≤–µ—Ç–µ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `shop_owners` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞

### Frontend (–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å)
- **–ù–æ–≤—ã–π —Ñ–∏–ª—å—Ç—Ä**: –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ "–í—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã" —Å –≤—ã–±–æ—Ä–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
- **–ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞**: "–ú–∞–≥–∞–∑–∏–Ω" –≤ —Ç–∞–±–ª–∏—Ü–µ –∑–∞–∫–∞–∑–æ–≤ —Å –∏–º–µ–Ω–µ–º –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: —Å–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ –∑–∞–∫–∞–∑–∞
–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –º–∞–≥–∞–∑–∏–Ω—É, –µ—Å–ª–∏ –≤ –Ω—ë–º –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã –æ—Ç —ç—Ç–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞:
```sql
-- –ó–∞–∫–∞–∑—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
SELECT o.* FROM orders o
JOIN order_items oi ON o.id = oi.order_id
JOIN product_variations pv ON oi.variation_id = pv.id
JOIN products p ON pv.product_id = p.id
WHERE p.owner_id = 'SHOP_OWNER_UUID'
```

### 2. API Endpoints

#### GET `/api/v1/admin/orders`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `shop_owner_id` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –≤–ª–∞–¥–µ–ª—å—Ü—É –º–∞–≥–∞–∑–∏–Ω–∞ (UUID)
- `status` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `search` - –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É, –Ω–æ–º–µ—Ä—É –∑–∞–∫–∞–∑–∞
- `date_from`, `date_to` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ
- `page`, `limit` - –ø–∞–≥–∏–Ω–∞—Ü–∏—è

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "orders": [...],
    "pagination": {...},
    "stats": {...},
    "shop_owners": [
      {
        "id": "uuid",
        "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞",
        "phone": "+992927781020",
        "email": "shop@example.com"
      }
    ]
  }
}
```

### 3. Frontend —Ñ–∏–ª—å—Ç—Ä—ã

#### HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```html
<select id="order-shop-filter">
  <option value="">–í—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã</option>
  <option value="shop-uuid">–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ (+992927781020)</option>
</select>
```

#### JavaScript
```javascript
// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞
function applyOrdersFilters() {
    const shopOwnerId = document.getElementById('order-shop-filter')?.value || '';
    const filters = {};
    if (shopOwnerId) filters.shop_owner_id = shopOwnerId;
    loadOrders(1, filters);
}
```

## üìä –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤

### –ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ "–ú–∞–≥–∞–∑–∏–Ω"
- **–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞** (–∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º)
- **–¢–µ–ª–µ—Ñ–æ–Ω –≤–ª–∞–¥–µ–ª—å—Ü–∞** (–º–µ–ª–∫–∏–º —Å–µ—Ä—ã–º —à—Ä–∏—Ñ—Ç–æ–º)
- **"N/A"** –µ—Å–ª–∏ –º–∞–≥–∞–∑–∏–Ω –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω

### –ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
```
–ú–∞–≥–∞–∑–∏–Ω
--------
–û–¥–µ–∂–¥–∞ "–ú–æ–¥–∞"     ‚Üê –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
+992927781020     ‚Üê –¢–µ–ª–µ—Ñ–æ–Ω –≤–ª–∞–¥–µ–ª—å—Ü–∞
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å: `http://159.89.99.252/`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ó–∞–∫–∞–∑—ã"
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä "–í—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã" –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
4. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –∑–∞–∫–∞–∑—ã —Ç–æ–ª—å–∫–æ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞

### –î–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –º–∞–≥–∞–∑–∏–Ω–æ–≤
- –í–ª–∞–¥–µ–ª—å—Ü—ã –º–∞–≥–∞–∑–∏–Ω–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—ã —Å–≤–æ–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä –ø–æ –º–∞–≥–∞–∑–∏–Ω—É –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏—Ö –∑–∞–∫–∞–∑—ã)

## üîç –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –í—Å–µ –∑–∞–∫–∞–∑—ã
```
GET /api/v1/admin/orders
```

### –ó–∞–∫–∞–∑—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
```
GET /api/v1/admin/orders?shop_owner_id=123e4567-e89b-12d3-a456-426614174000
```

### –ó–∞–∫–∞–∑—ã –º–∞–≥–∞–∑–∏–Ω–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "pending"
```
GET /api/v1/admin/orders?shop_owner_id=123e4567-e89b-12d3-a456-426614174000&status=pending
```

### –ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∫–ª–∏–µ–Ω—Ç–∞
```
GET /api/v1/admin/orders?shop_owner_id=123e4567-e89b-12d3-a456-426614174000&search=+992927781020
```

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ò–Ω–¥–µ–∫—Å—ã**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
  ```sql
  CREATE INDEX IF NOT EXISTS idx_products_owner_id ON products (owner_id);
  CREATE INDEX IF NOT EXISTS idx_order_items_variation_id ON order_items (variation_id);
  ```

- **JOIN –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ó–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ JOIN'—ã –¥–ª—è —Å–≤—è–∑–∏ –∑–∞–∫–∞–∑–æ–≤ —Å –º–∞–≥–∞–∑–∏–Ω–∞–º–∏

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ó–∞–∫–∞–∑—ã –±–µ–∑ —Ç–æ–≤–∞—Ä–æ–≤**: –ï—Å–ª–∏ –≤ –∑–∞–∫–∞–∑–µ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤, –º–∞–≥–∞–∑–∏–Ω –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—Å—è
2. **–°–º–µ—à–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã**: –ï—Å–ª–∏ –∑–∞–∫–∞–∑ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–≤–∞—Ä—ã –æ—Ç —Ä–∞–∑–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–∞–≥–∞–∑–∏–Ω –ø–µ—Ä–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

## üìù TODO

- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–∞–≥–∞–∑–∏–Ω–æ–≤
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–∞–∑–æ–≤ –ø–æ –º–∞–≥–∞–∑–∏–Ω—É
