# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å Cloudinary

## –ü—Ä–æ–±–ª–µ–º–∞: –§–æ–Ω –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

#### 1. Cloudinary –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–ª–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
go run scripts/check_cloudinary_config.go
```

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `USE_CLOUDINARY=true` –≤ `env.development`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `CLOUDINARY_CLOUD_NAME`, `CLOUDINARY_API_KEY`, `CLOUDINARY_API_SECRET`, `CLOUDINARY_UPLOAD_PRESET` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

#### 2. –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –æ—Ç–∫–ª—é—á–µ–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
grep CLOUDINARY_REMOVE_BACKGROUND env.development
```

**–†–µ—à–µ–Ω–∏–µ:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `CLOUDINARY_REMOVE_BACKGROUND=true` –≤ `env.development`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

#### 3. Upload Preset –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Ñ–æ–Ω–∞

**–≠—Ç–æ —Å–∞–º–∞—è —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞!**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Cloudinary Dashboard](https://console.cloudinary.com)
2. Settings ‚Üí Upload ‚Üí Upload Presets
3. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à preset (–∏–º—è –∏–∑ `CLOUDINARY_UPLOAD_PRESET`)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É "Incoming Transformation"

**–†–µ—à–µ–Ω–∏–µ:**
–í "Incoming Transformation" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ü–µ–ø–æ—á–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π —Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Ñ–æ–Ω–∞:

```
c_fill,g_auto,h_1200,w_1200/e_background_removal:fineedges_y/c_auto_pad,g_auto,h_1200,w_1200
```

**–ò–ª–∏ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è:**
```
c_fill,g_auto,h_1200,w_1200/e_background_removal/c_auto_pad,g_auto,h_1200,w_1200
```

**–í–∞–∂–Ω–æ:**
- `e_background_removal` –∏–ª–∏ `e_background_removal:fineedges_y` - —ç—Ç–æ –ø–ª–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- –ë–µ–∑ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ñ–æ–Ω –ù–ï –±—É–¥–µ—Ç —É–¥–∞–ª—è—Ç—å—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –∫—Ä–µ–¥–∏—Ç—ã –≤ Cloudinary

#### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:**

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚òÅÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —á–µ—Ä–µ–∑ Cloudinary...
   ‚úÖ Cloudinary –≤–∫–ª—é—á–µ–Ω
   ‚òÅÔ∏è  Cloud Name: –≤–∞—à_cloud_name
   ‚öôÔ∏è  Upload Preset: –≤–∞—à_preset
   üé® Remove Background: true
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:
```
üé® –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ...
   ‚ö†Ô∏è Cloudinary –æ—Ç–∫–ª—é—á–µ–Ω (USE_CLOUDINARY=false)
```

‚Üí Cloudinary –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (—Ñ–æ–Ω –Ω–µ —É–¥–∞–ª–∏—Ç—Å—è)

#### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ URL –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–≤–µ—Ç API:**
```json
{
  "url": "https://res.cloudinary.com/...",
  "provider": "cloudinary"
}
```

–ï—Å–ª–∏ `provider: "cloudinary"` ‚Üí –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –≤ Cloudinary
–ï—Å–ª–∏ `provider` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ URL:**
- –û—Ç–∫—Ä–æ–π—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ï—Å–ª–∏ —Ñ–æ–Ω —É–¥–∞–ª–µ–Ω ‚Üí –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ï—Å–ª–∏ —Ñ–æ–Ω –µ—Å—Ç—å ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ preset

## –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
go run scripts/check_cloudinary_config.go
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
3. –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Å `‚òÅÔ∏è` –∏–ª–∏ `üé®`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ Upload Preset
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Cloudinary Dashboard](https://console.cloudinary.com)
2. Settings ‚Üí Upload ‚Üí Upload Presets
3. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à preset
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ "Incoming Transformation"
5. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ü–µ–ø–æ—á–∫–∞ —Å `e_background_removal`

### –®–∞–≥ 4: –¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ –æ—Ç–≤–µ—Ç–µ API
3. –û—Ç–∫—Ä–æ–π—Ç–µ URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —É–¥–∞–ª–µ–Ω –ª–∏ —Ñ–æ–Ω

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞: "Cloudinary error: Invalid preset"
**–ü—Ä–∏—á–∏–Ω–∞:** Preset –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –∏–º—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è preset –≤ `CLOUDINARY_UPLOAD_PRESET`

### –û—à–∏–±–∫–∞: "Cloudinary error: Invalid API key"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API Key –∏–ª–∏ Secret
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `CLOUDINARY_API_KEY` –∏ `CLOUDINARY_API_SECRET`

### –§–æ–Ω –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è, –Ω–æ Cloudinary –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞:** –í Upload Preset –Ω–µ—Ç `e_background_removal`
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ `e_background_removal:fineedges_y` –≤ —Ü–µ–ø–æ—á–∫—É —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π preset

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
**–ü—Ä–∏—á–∏–Ω–∞:** `USE_CLOUDINARY=false` –∏–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
**–†–µ—à–µ–Ω–∏–µ:** 
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `USE_CLOUDINARY=true`
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Cloudinary
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Cloudinary Dashboard](https://console.cloudinary.com)
- [Cloudinary Upload Presets Documentation](https://cloudinary.com/documentation/upload_presets)
- [Background Removal Documentation](https://cloudinary.com/documentation/transformation_reference#e_background_removal)

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Cloudinary Dashboard
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –∫—Ä–µ–¥–∏—Ç—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞ (–ø–ª–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)

